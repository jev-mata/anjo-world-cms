import{r as i,j as t,b as f}from"./app-DfG43Wz7.js";function y({question:s,contentId:n}){const[d,l]=i.useState(null),[r,h]=i.useState(!1),[c,m]=i.useState(!1),g=()=>{let e=localStorage.getItem("device_hash");return e||(e=Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("device_hash",e)),e},u=async e=>{if(!r){l(e.id),h(!0),m(e.is_correct);try{await f.post("/analytics/question",{question_id:s.id,answer_id:e.id,is_correct:e.is_correct,topic_id:n,device_hash:g()})}catch(o){console.error("Error saving question analytics:",o)}}};function b(e){return String.fromCharCode(97+e%26)}return t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:s.title}),t.jsx("div",{className:"space-y-2",children:s.answers.map((e,o)=>{const a=d===e.id,x=r&&e.is_correct,p=r&&a&&!e.is_correct;return t.jsxs("span",{className:"flex  ",children:[t.jsxs("span",{className:"pr-2 my-auto capitalize",children:[b(o),"."]}),t.jsx("button",{onClick:()=>u(e),disabled:r,className:`w-full text-left px-4 py-2 rounded-md border transition ${a?"border-indigo-600 bg-indigo-50":"border-gray-300 bg-white hover:bg-gray-100"} ${x?"border-green-500 bg-green-50":""} ${p?"border-red-500 bg-red-50":""}`,children:e.text},e.id)]})})}),r&&t.jsx("div",{className:`mt-3 text-sm font-medium ${c?"text-green-600":"text-red-600"}`,children:c?"✅ Correct!":"❌ Incorrect"})]})}export{y as default};
