import{r as j,j as t}from"./app-xhabqAXj.js";import B from"./Topic-DDDlAkZr.js";import"./Question-BeKvk4eI.js";function J({projectSelected:I,title:k,setTitle:p,color:v,setColor:w,description:N,setDescription:C,video:T,setVideo:E,image:u,image_path:x,setImage:U,topics:l,setTopics:c,tabTitle:q,setTabTitle:L,handleSaveAll:S,setRemovedTopics:A,removedTopics:V,setRemovedQuestions:m,setRemovedAnswers:b}){const[y,f]=j.useState(null),R=()=>{c([...l,{id:null,title:"",description:"",color:"#000000",topics:[],questions:[]}])},h=["#A3CB3C","#57C5CF","#F6940D","#EC008D","#962495"],D=e=>{const s=[...l],i=(r,a)=>{if(!r)return;if(a.length===1){const d=r[a[0]];d!==void 0&&(d!=null&&d.id&&A(n=>[...n,d.id]),d.questions&&d.questions.forEach(n=>{n.id&&m(g=>[...g,n.id]),n.answers&&n.answers.forEach(g=>{g.id&&b($=>[...$,g.id])})}),r.splice(a[0],1));return}const[o,...O]=a;!r[o]||!r[o].topics||i(r[o].topics,O)};i(s,e),c(s)},F=e=>{const s=[...l];let i=s;for(let r=0;r<e.length;r++)i[e[r]].topics||(i[e[r]].topics=[]),i=i[e[r]].topics;i.push({id:null,title:"",description:"",color:"#000000",topics:[],questions:[]}),c(s)},P=(e,s,i)=>{const r=[...l];let a=r;for(let o=0;o<e.length-1;o++)a[e[o]].topics||(a[e[o]].topics=[]),a=a[e[o]].topics;a[e[e.length-1]]||(a[e[e.length-1]]={topics:[],questions:[]}),a[e[e.length-1]][s]=i,c(r)};return j.useEffect(()=>{if(!u){f(null);return}const e=URL.createObjectURL(u);return f(e),()=>URL.revokeObjectURL(e)},[u]),t.jsxs("form",{onSubmit:S,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),t.jsx("input",{type:"text",value:k,onChange:e=>p(e.target.value),required:!0,className:"mt-1 w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300",children:"Color"}),t.jsx("div",{className:"flex space-x-3",children:h.map(e=>t.jsx("button",{type:"button",onClick:()=>w(e),className:`w-8 h-8 rounded-full border-2 ${v===e?"border-black dark:border-white":"border-transparent"}`,style:{backgroundColor:e}},e))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tab Title"}),t.jsx("input",{type:"text",value:q,onChange:e=>L(e.target.value),required:!0,className:"mt-1 w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),t.jsx("textarea",{value:N,onChange:e=>C(e.target.value),required:!0,className:"mt-1 w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Video URL"}),t.jsx("input",{type:"url",value:T,onChange:e=>E(e.target.value),className:"mt-1 w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Image"}),y?t.jsx("img",{src:y,className:"pt-4",alt:"Preview"}):x&&t.jsx("img",{src:`storage/${x}`,className:"pt-4",alt:"Current"}),t.jsx("input",{type:"file",accept:"image/*",onChange:e=>U(e.target.files[0]),className:"mt-1 block w-full text-gray-900 dark:text-gray-100"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Topics"}),Array.isArray(l)&&l.map((e,s)=>t.jsx(B,{index:s,addSubTopic:F,handleTopicChange:P,path:[s],removeTopic:D,topic:e,colors:h,setRemovedQuestions:m,setRemovedAnswers:b},s)),t.jsx("button",{type:"button",onClick:R,className:"text-indigo-600 hover:underline",children:"+ Add Topic"})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700",children:"Save Tab"})})]})}export{J as default};
